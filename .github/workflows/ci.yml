name: Frontend Build Check

on:
  pull_request:
    types: [opened, synchronize, edited]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Set up Node.js
        uses: actions/setup-node@v4
        with:
          node-version: 20

      - name: Install dependencies
        run: npm ci

      - name: Run build command
        run: |
          echo "Running build process..."
          if ! npm run build; then
            echo ""
            echo "âŒ Build failed!"
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            echo "To fix this issue:"
            echo "1. Run this command locally:  npm run build"
            echo "2. Check the error message shown above."
            echo "3. Fix any missing imports, syntax errors, or configuration issues."
            echo "4. Once it builds successfully, push your changes again."
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            echo ""
            exit 1
          else
            echo "âœ… Build succeeded! Great job ğŸ‰"
          fi
